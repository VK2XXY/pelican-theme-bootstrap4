{% extends "base.html" %}
{% block title %} Blog {% endblock %}

{% block extra_scripts %}
    function window_resize() {
        if(window.innerWidth < 768) {
                $('#index_content').find('p.article-header').removeClass('h3').addClass('h4');
                $('#index_content').find('div.card-metadata').removeClass('card-metadata-text-normal').addClass('card-metadata-text-small');
                $('#index_content').find('p.summary').removeClass('summary-text-normal').addClass('summary-text-small');
        } else {
                $('#index_content').find('p.article-header').removeClass('h3').addClass('h4');
                $('#index_content').find('div.card-metadata').removeClass('card-metadata-text-small').addClass('card-metadata-text-normal');
                $('#index_content').find('p.summary').removeClass('summary-text-small').addClass('summary-text-normal');
        };
    };
{% endblock %}


{% block content %}


{% if articles %}
<hr/>
{% for article in (articles_page.object_list if articles_page else articles) %}
<div class='row'>
    <div class="col">
        <p class="h3 article-header"> {{ article.title }} </p>
    </div>
</div>
<div class='row'>
    <div class="col-xs-12 col-sm-12">
        <div class="card card-body card-metadata  card-bg"> {% include "metadata.html" %} </div>
    </div>
</div>
<div class='row'>
    <div class="col">
        <p class="summary summary-text-normal">{{ article.summary }}
        </p>
        <a class="btn btn-sm btn-summary"
                      href="{{ SITEURL }}/{{ article.url }}">moreâ€¦</a>

    </div>
</div>
{% endfor %}

<div class='row'>
    <div class="col">
        {% if articles_page and articles_paginator.num_pages > 1 %}
        <nav class="justify-content-center" aria-label="Page navigation">
            <ul class="pagination justify-content-center">
            {% if articles_page.has_previous() %}
                {% set num = articles_page.previous_page_number() %}
                <li class="page-item">
                    <a class="page-link" href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <a href="#" aria-label="Previous" class="page-link">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
            {% endif %}
            {% for num in range( 1, 1 + articles_paginator.num_pages ) %}
                <li class="{{ 'active' if num == articles_page.number else '' }} page-item"  aria-label="Page {{ num }}">
                    <a class="page-link" href="{{ SITEURL }}/{{ page_name }}{{ num if num > 1 else '' }}.html">{{ num }}</a>
                </li>
            {% endfor %}
            {% if articles_page.has_next() %}
                <li class="page-item">
                    <a class="page-link" href="{{ SITEURL }}/{{ page_name }}{{ articles_page.next_page_number() }}.html" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            {% endif %}
            </ul>
        </nav>
        {% endif %}
    </div>
</div>
{% endif %}

{% endblock %}
